{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
  <div class="card">
    <div class="card-body">
      <button type="button"
              class="btn-close float-end"
              aria-label="Close"
              onclick="window.history.back()"></button>

      <h3 class="card-title">Wells Score – DVT</h3>
      <p class="text-muted small">
        Clinical pre-test probability only. Often combined with D-dimer and ultrasound algorithms.
      </p>

      <form method="post">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="active_cancer" id="active_cancer">
          <label class="form-check-label" for="active_cancer">
            Active cancer (treatment &lt; 6 months or palliative) (+1)
          </label>
        </div>

        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="paralysis" id="paralysis">
          <label class="form-check-label" for="paralysis">
            Paralysis/paresis/recent plaster immobilisation of lower limb (+1)
          </label>
        </div>

        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="bedridden" id="bedridden">
          <label class="form-check-label" for="bedridden">
            Bedridden ≥ 3 days or major surgery within 12 weeks (+1)
          </label>
        </div>

        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="tenderness" id="tenderness">
          <label class="form-check-label" for="tenderness">
            Localised tenderness along deep venous system (+1)
          </label>
        </div>

        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="entire_leg_swollen" id="entire_leg_swollen">
          <label class="form-check-label" for="entire_leg_swollen">
            Entire leg swollen (+1)
          </label>
        </div>

        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="calf_gt_3cm" id="calf_gt_3cm">
          <label class="form-check-label" for="calf_gt_3cm">
            Calf swelling &gt; 3 cm vs other leg (10 cm below tibial tuberosity) (+1)
          </label>
        </div>

        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="pitting_oedema" id="pitting_oedema">
          <label class="form-check-label" for="pitting_oedema">
            Pitting oedema confined to symptomatic leg (+1)
          </label>
        </div>

        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="collateral_veins" id="collateral_veins">
          <label class="form-check-label" for="collateral_veins">
            Collateral superficial veins (non-varicose) (+1)
          </label>
        </div>

        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="prev_dvt" id="prev_dvt">
          <label class="form-check-label" for="prev_dvt">
            Previously documented DVT (+1)
          </label>
        </div>

        <div class="form-check mb-3">
          <input class="form-check-input" type="checkbox" name="alt_dx_more_likely" id="alt_dx_more_likely">
          <label class="form-check-label" for="alt_dx_more_likely">
            Alternative diagnosis at least as likely as DVT (−2)
          </label>
        </div>

        <button type="submit" class="btn btn-primary">Calculate Wells DVT score</button>
      </form>

      {% if score is defined %}
        <hr>
        <h5>Result</h5>
        <p class="fs-5">Wells DVT score: <strong>{{ score }}</strong></p>
        <p class="small text-muted mb-0">
          Many pathways treat score &ge; 2 as “DVT likely” and &le; 1 as “DVT unlikely”,
          but follow your local algorithm.
        </p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
